<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ReactMRP V1.0</title>
<style>
section {
	margin-bottom: 30px
}

section header {
	font-weight: bolder;
	padding-bottom: 10px;
}

.amount {
	width: 200px;
	text-align: right;
	border: 1px solid #aaa;
	background-color: #eee;
	padding: 3px 8px;
}

.msg {
	width: 80%;
	padding: 8px;
	margin-bottom: 20px;
}
</style>
<script src="/js/myserverless-4.0.js"></script>
</head>
<body>
 <script>
      var result=syncData$myServerless(`BackendPublic$CheckLogin`);
      if(!result)
		  window.location.href="/login.html";
</script>
    
	
    <h2>Backend service started.</h2>	   
	<div id="msgid" class="msg"></div>
	 
	<p id="Users">
	</p>
	 
	 
	 <script>
	  $qryMapList(`#UserRead select userId from users order by userId`).then(json=>{
	      if(json.code==200){
		     let users=json.data;
		     let html="User List:<br/>";
  		     for(let i=0;i<users.length;i++) 
			 html+="userId:" +  users[i].userId+"<br/>"; 
			 document.getElementById("Users").innerHTML=html;
	      }  
	  });

	  function doLogout(){
		sync$myServerless(`BackendPublic$Logout`);
		window.location.href="/login.html";
	  }
	</script>

	<a href="javascript:doLogout()">Logout</a>
 
</body>
</html>